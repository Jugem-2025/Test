<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>わしちゃんとしわちゃんの冒険</title>
  <style>
    body {
      background-color: #5a1e1e; /* 暗い赤 */
      color: black;
      font-size: 11pt;
      font-family: "Yu Mincho", serif;
      line-height: 1.6;
      padding: 40px;
    }

    .story span {
      display: inline-block;
      transition: transform 1s ease, opacity 1s ease;
    }

    .falling {
      transform: translateY(100px) rotateZ(20deg);
      opacity: 0;
    }
  </style>
</head>
<body>
  <div class="story" id="story">
    <!-- ここに文字ごとに分割された文章が入ります -->
  </div>

  <script>
    // サンプル文章（約400文字）
    const text = `ある日、わしちゃんとしわちゃんは、不思議な森の奥にあるという「記憶の泉」を目指して旅に出ることにした。道中、時間を逆に流す魚や、言葉を食べる猫と出会いながら、二人は少しずつ大切なものを思い出していく。わしちゃんの背中には風が吹き、しわちゃんの杖は光を放っていた。やがて彼らは泉のほとりにたどり着き、そこに映る自分たちの姿に、静かに微笑み合った。それは、長い時間をかけて育んだ友情と、忘れかけていた冒険心の再確認でもあった。そしてふたりは、新たな旅へと再び歩き出したのだった。`;

    const storyContainer = document.getElementById("story");

    // 一文字ずつspanにして挿入
    for (let char of text) {
      const span = document.createElement("span");
      span.textContent = char;
      storyContainer.appendChild(span);
    }

    // 3秒後にランダムに崩れ落ちていく
    setTimeout(() => {
      const spans = Array.from(document.querySelectorAll(".story span"));
      spans.forEach((span, index) => {
        setTimeout(() => {
          span.classList.add("falling");
        }, Math.random() * 3000); // 0〜3秒ランダムで落下
      });
    }, 3000);
  </script>
</body>
</html>